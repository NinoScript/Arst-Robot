/*
 * main.cc
 *
 *  Created on: Nov 9, 2012
 *      Author: lucho
 */

#include "pololu/3pi.h"

void adelante (int velmax){
	OrangutanMotors::setSpeeds(velmax,velmax);
}

void giroIzquierda (int velmax){
	OrangutanMotors::setSpeeds(-velmax,velmax);
}

void detenerse(){
	OrangutanMotors::setSpeeds(0,0);
}


int main (){
	while (1) {
		print_from_program_space("Press B");
		lcd_goto_xy(0,1);
		print_from_program_space("And Wait");
		wait_for_button_press(BUTTON_B);
		wait_for_button_release(BUTTON_B);
		delay_ms(100);
		set_analog_mode(MODE_8_BIT);
		int max = read_trimpot();
		adelante(max);
		delay_ms(500);
		giroIzquierda(max);
		delay_ms(1000);
		detenerse();
	}
}
